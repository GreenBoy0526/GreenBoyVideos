(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{197:function(t,e){},223:function(t,e,n){"use strict";n.r(e);var s=n(0),i=n(38),c=n.n(i),r=n(47),a=n(26),o=n(27),l=n(29),h=n(28),d=n(25),p=(n(142),n(135)),j=(n(100),n(78)),u=(n(118),n(34)),b=n(227),v=n(228),O=n(229),m=n(119),y=n.n(m).a.create({baseURL:"https://api.okzy.tv/",timeout:6e4,withCredentials:!1});y.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),y.interceptors.response.use((function(t){return t=t.data}),(function(t){return console.error(t),Promise.reject(t)}));var x=y,f=n(7),g=u.a.SubMenu,k=j.a.Search,_=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(a.a)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).state={current:"mail",searchResult:[]},t.handleClick=function(e){console.log("click ",e),t.setState({current:e.key}),"home"==e.key&&t.props.history.push("/")},t.onSearch=function(e){t.props.history.push("/s?wd=".concat(e))},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state.current;return Object(f.jsx)(p.a,{offsetTop:0,children:Object(f.jsxs)(u.a,{onClick:this.handleClick,selectedKeys:[t],mode:"horizontal",children:[Object(f.jsx)(u.a.Item,{icon:Object(f.jsx)(b.a,{}),children:"\u9996\u9875"},"home"),Object(f.jsx)(u.a.Item,{disabled:!0,icon:Object(f.jsx)(v.a,{}),children:"Navigation Two"},"app"),Object(f.jsxs)(g,{icon:Object(f.jsx)(O.a,{}),title:"Navigation Three - Submenu",children:[Object(f.jsxs)(u.a.ItemGroup,{title:"Item 1",children:[Object(f.jsx)(u.a.Item,{children:"Option 1"},"setting:1"),Object(f.jsx)(u.a.Item,{children:"Option 2"},"setting:2")]}),Object(f.jsxs)(u.a.ItemGroup,{title:"Item 2",children:[Object(f.jsx)(u.a.Item,{children:"Option 3"},"setting:3"),Object(f.jsx)(u.a.Item,{children:"Option 4"},"setting:4")]})]},"SubMenu"),Object(f.jsx)(u.a.Item,{children:"111"},"alipay"),Object(f.jsx)(u.a.Item,{children:Object(f.jsx)(k,{placeholder:"\u8bf7\u8f93\u5165\u5f71\u7247\u6216\u6f14\u5458\u540d",style:{marginTop:8},onSearch:this.onSearch})})]})})}}]),n}(s.Component),w=Object(d.e)(_),C=j.a.Search,S=(s.Component,n(172),n(125)),I=(n(174),n(134)),$=(n(176),n(53)),D=n(55),T=n.n(D),A=(n(117),n(77)),L=(n(109),n(80)),M=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(a.a)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).state={detail:{}},t.todetail=function(e){t.props.history.push("/d?id=".concat(e))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.data.vod_id;x.get("api.php/provide/vod/at/json/?ac=detail&ids=".concat(e)).then((function(e){e.list[0].vod_actor=e.list[0].vod_actor.split(",").slice(0,4).join(","),t.setState({detail:e.list[0]})}))}},{key:"render",value:function(){var t=this,e=this.props.data,n=e.vod_name,s=e.type_name,i=e.vod_remarks,c=e.vod_time,r=e.vod_id,a=this.state.detail,o=a.vod_director,l=a.vod_actor,h=a.vod_area,d=a.vod_pic;return Object(f.jsx)(A.a,{hoverable:!0,style:{width:600,margin:10},onClick:function(){t.todetail(r)},children:Object(f.jsxs)("div",{style:{height:200,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(f.jsx)("div",{style:{width:200,height:200},children:Object(f.jsx)("img",{src:d,alt:"",height:"200"})}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:[n," ",Object(f.jsx)(L.a,{children:i})]}),Object(f.jsxs)("p",{children:["\u5bfc\u6f14\uff1a",o||"\u4e0d\u8be6"]}),Object(f.jsxs)("p",{children:["\u4e3b\u6f14\uff1a",l||"\u4e0d\u8be6"]}),Object(f.jsxs)("p",{children:["\u7c7b\u578b\uff1a",s," \u5730\u533a\uff1a",h]}),Object(f.jsxs)("p",{children:["\u66f4\u65b0\u65f6\u95f4\uff1a",c]})]})]})})}}]),n}(s.Component),U=Object(d.e)(M),B=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(a.a)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).getList=function(){var e=T.a.parse(t.props.location.search.slice(1)).wd;x.get("api.php/provide/vod/at/json/?ac=list&wd=".concat(e)).then((function(e){console.log(e),1==e.code&&e.total>0?t.setState({list:e.list}):t.setState({list:[],msg:Object(f.jsx)($.a,{description:"\u6ca1\u6709\u641c\u5230\u6570\u636e\uff0c\u6362\u4e2a\u5173\u952e\u8bcd\u8bd5\u8bd5"})})})).catch((function(e){console.log(e),t.setState({list:[],msg:Object(f.jsx)(I.a,{status:"error",title:"\u7f51\u7edc\u9519\u8bef"})})}))},t.state={list:[],msg:Object(f.jsx)(S.a,{tip:"\u6b63\u5728\u641c\u7d22\u2026\u2026"})},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getList()}},{key:"componentDidUpdate",value:function(t){t.history.location.search!=t.location.search&&this.getList()}},{key:"render",value:function(){return this.state.list.length>0?Object(f.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:this.state.list.map((function(t){return Object(f.jsx)(U,{data:t},t.vod_id)}))}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{style:{textAlign:"center"},children:this.state.msg})})}}]),n}(s.Component),V=Object(d.e)(B),E=(n(113),n(81)),P=(n(90),n(52)),R=n(127),N=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(a.a)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).state={key:""},t.onTabChange=function(e,n){console.log(e,n),t.setState(Object(R.a)({},n,e))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(t){this.props.source?this.setState({key:this.props.source}):this.setState({key:this.props.urls[0].name})}},{key:"componentDidUpdate",value:function(t){console.log(t.index),t.history.location.search!=t.location.search&&this.setState({index:t.index})}},{key:"render",value:function(){for(var t=this,e=[],n={},s=0;s<this.props.urls.length;s++)e[s]={key:this.props.urls[s].name,tab:"\u64ad\u653e".concat(s+1)},n[e[s].key]=this.props.urls[s].urls;return Object(f.jsx)(A.a,{style:{width:"100%"},tabList:e,activeTabKey:this.state.key,onTabChange:function(e){t.onTabChange(e,"key")},children:Object(f.jsx)(E.b,{wrap:!0,children:this.state.key?n[this.state.key].map((function(e,n){return Object(f.jsx)(P.a,{onClick:function(){t.props.onChooseEpisode(t.state.key,n)},children:e.name},e.name)})):"\u65e0\u6570\u636e"})})}}]),n}(s.Component),z=Object(d.e)(N),F=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(a.a)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).toVod=function(e,n){console.log(e),t.props.history.push("/v?id=".concat(t.state.id,"&source=").concat(e,"&index=").concat(n))},t.state={detail:{},urls:[]},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=T.a.parse(this.props.location.search.slice(1)).id;x.get("api.php/provide/vod/at/json/?ac=detail&ids=".concat(e)).then((function(n){for(var s=n.list[0].vod_play_from.split("$$$"),i=n.list[0].vod_play_url.split("$$$"),c=[],r=0;r<s.length;r++){c[r]={name:s[r],urls:i[r].split("#")};for(var a=0;a<c[r].urls.length;a++)c[r].urls[a]={name:c[r].urls[a].split("$")[0],url:c[r].urls[a].split("$")[1]}}console.log(c),t.setState({detail:n.list[0],urls:c,id:e})}))}},{key:"render",value:function(){var t=this.state.detail,e=t.vod_name,n=t.type_name,s=t.vod_remarks,i=t.vod_time,c=t.vod_director,r=t.vod_actor,a=t.vod_area,o=t.vod_pic,l=t.vod_blurb;return Object(f.jsxs)("div",{style:{margin:"2rem auto",width:"80%"},children:[Object(f.jsxs)(E.b,{align:"center",children:[Object(f.jsx)("div",{style:{width:200,height:200},children:Object(f.jsx)("img",{src:o,alt:"",height:"100%"})}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:[e," ",Object(f.jsx)(L.a,{children:s})]}),Object(f.jsxs)("p",{children:["\u5bfc\u6f14\uff1a",c||"\u4e0d\u8be6"]}),Object(f.jsxs)("p",{children:["\u4e3b\u6f14\uff1a",r||"\u4e0d\u8be6"]}),Object(f.jsxs)("p",{children:["\u7c7b\u578b\uff1a",n," \u5730\u533a\uff1a",a]}),Object(f.jsxs)("p",{children:["\u66f4\u65b0\uff1a",i]}),Object(f.jsxs)("p",{children:["\u7b80\u4ecb\uff1a",l]})]})]}),this.state.urls.length>0?Object(f.jsx)(z,{urls:this.state.urls,onChooseEpisode:this.toVod}):Object(f.jsx)("p",{})]})}}]),n}(s.Component),G=Object(d.e)(F),J=(n(224),n(64)),K=n(99),W=(n(222),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"componentDidMount",value:function(){var t=this.props,e=t.height,n=t.width,s=t.src;this.player=Object(K.a)("custom-video",{height:e,width:n,bigPlayButton:!0,textTrackDisplay:!1,errorDisplay:!1,controlBar:!0,type:"application/x-mpegURL"},(function(){this.play()})),console.log(s),this.player.src({src:s})}},{key:"componentDidUpdate",value:function(){var t=this.props,e=t.height,n=t.width,s=t.src;this.player=Object(K.a)("custom-video",{height:e,width:n,bigPlayButton:!0,textTrackDisplay:!1,errorDisplay:!1,controlBar:!0,type:"application/x-mpegURL"},(function(){this.play()})),console.log(s),this.player.src({src:s})}},{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsx)("video",{id:"custom-video",className:"video-js",controls:!0,preload:"auto"})})}}]),n}(s.Component)),q=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(a.a)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).toVod=function(e,n){t.props.history.push("/v?id=".concat(t.state.id,"&source=").concat(e,"&index=").concat(n))},t.state={detail:{},urls:[]},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=T.a.parse(this.props.location.search.slice(1)),n=e.id;e.source,e.index;x.get("api.php/provide/vod/at/json/?ac=detail&ids=".concat(n)).then((function(e){for(var s=e.list[0].vod_play_from.split("$$$"),i=e.list[0].vod_play_url.split("$$$"),c=[],r=0;r<s.length;r++){c[r]={name:s[r],urls:i[r].split("#")};for(var a=0;a<c[r].urls.length;a++)c[r].urls[a]={name:c[r].urls[a].split("$")[0],url:c[r].urls[a].split("$")[1]}}console.log(c),t.setState({detail:e.list[0],urls:c,id:n})}))}},{key:"render",value:function(){var t=this.state.detail,e=t.vod_name,n=(t.type_name,t.vod_remarks,t.vod_time,t.vod_director,t.vod_actor,t.vod_area,t.vod_pic,t.vod_blurb,T.a.parse(this.props.location.search.slice(1))),s=n.source,i=n.index,c=this.state.urls.find((function(t){return t.name==s}));return console.log(c),Object(f.jsxs)("div",{style:{margin:"2rem auto",width:"80%"},children:[Object(f.jsxs)(J.a,{children:[Object(f.jsx)(J.a.Item,{href:"/",children:Object(f.jsx)(b.a,{})}),Object(f.jsx)(J.a.Item,{children:Object(f.jsxs)("a",{href:"",children:["\u641c\u7d22\uff1a",e]})}),Object(f.jsx)(J.a.Item,{children:Object(f.jsx)("a",{href:"",children:e})}),Object(f.jsxs)(J.a.Item,{children:["\u7b2c",+i+1,"\u96c6"]})]}),"ckm3u8"==s&&c?Object(f.jsx)("div",{style:{margin:"0 auto",width:1e3},children:Object(f.jsx)(W,{src:c?c.urls[i].url:"",width:"1000"})}):Object(f.jsx)("div",{style:{margin:"0 auto",width:1e3},children:Object(f.jsx)("iframe",{src:c?c.urls[i].url:"",frameBorder:"0",width:"1000",height:"700",allowFullScreen:"true"})}),this.state.urls.length>0?Object(f.jsx)(z,{urls:this.state.urls,onChooseEpisode:this.toVod,source:s,index:i}):Object(f.jsx)("p",{})]})}}]),n}(s.Component),H=Object(d.e)(q),Q=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(a.a)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).state={VodList:[]},t}return Object(o.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(w,{}),Object(f.jsx)(d.a,{path:"/s",component:V}),Object(f.jsx)(d.a,{path:"/d",component:G}),Object(f.jsx)(d.a,{path:"/v",component:H})]})}}]),n}(s.Component);c.a.render(Object(f.jsx)(r.a,{children:Object(f.jsx)(Q,{})}),document.getElementById("root"))}},[[223,1,2]]]);
//# sourceMappingURL=main.03de141a.chunk.js.map